var IScroll=function(t,i){t="string"==typeof t?document.querySelector(t):t;var s=IScroll.utils;this.wrapper=t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollX:!0,scrollY:!0,lockDirection:!0,overshoot:!0,momentum:!0,HWCompositing:!0,useTransition:!0,useTransform:!0};for(var o in i)this.options[o]=i[o];this.options.HWCompositing||(s.style.translateZ=""),this.options.useTransition=s.has.transition&&this.options.useTransition,this.options.useTransform=s.has.transform&&this.options.useTransform,this.options.useTransition&&(this.scroller.style[s.style.transitionTimingFunction]="cubic-bezier(0.33,0.66,0.66,1)"),this.refresh(),this.scrollTo(this.options.startX,this.options.startY,0),this.enabled=!0,s.addEvent(window,"orientationchange",this),s.addEvent(window,"resize",this),s.has.touch&&(s.addEvent(this.wrapper,"touchstart",this),s.addEvent(window,"touchmove",this),s.addEvent(window,"touchcancel",this),s.addEvent(window,"touchend",this)),s.has.pointer&&(s.addEvent(this.wrapper,"MSPointerDown",this),s.addEvent(window,"MSPointerMove",this),s.addEvent(window,"MSPointerCancel",this),s.addEvent(window,"MSPointerUp",this)),s.addEvent(this.wrapper,"mousedown",this),s.addEvent(window,"mousemove",this),s.addEvent(window,"mousecancel",this),s.addEvent(window,"mouseup",this),s.addEvent(this.scroller,"transitionend",this),s.addEvent(this.scroller,"webkitTransitionEnd",this),s.addEvent(this.scroller,"oTransitionEnd",this),s.addEvent(this.scroller,"MSTransitionEnd",this)};IScroll.prototype.disable=function(){this.enabled=!1},IScroll.prototype.enable=function(){this.enabled=!0},IScroll.prototype._resize=function(){this.refresh(),this.resetPosition()},IScroll.utils=function(t,i){function s(t){return c===!1?!1:""===c?t:c+t.charAt(0).toUpperCase()+t.substr(1)}function o(t,i,s,o){t.addEventListener(i,s,!!o)}function e(t,i,s,o){t.removeEventListener(i,s,!!o)}function n(t,i){var s,o,e=getComputedStyle(t,null);return i?(e=e[m.transform].split(")")[0].split(", "),s=+(e[12]||e[4]),o=+(e[13]||e[5])):(s=+e.left.replace(/[^-\d]/g,""),o=+e.top.replace(/[^-\d]/g,"")),{x:s,y:o}}function r(t,i,s,o,e){var n,r,h=t-i,a=Math.abs(h)/s,l=9e-4;return n=t+a*a/(2*l)*(0>h?-1:1),r=a/l,o>n?(n=e?o-e/2*(a/10):o,h=Math.abs(n-t),r=h/a):n>0&&(n=e?e/2*(a/10):0,h=Math.abs(t)+n,r=h/a),{destination:Math.round(n),duration:r}}var h=i.createElement("div").style,a=Date.now||function(){return(new Date).getTime()},l=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(i){t.setTimeout(i,1e3/60)},c=function(){for(var t,i=["t","webkitT","MozT","msT","OT"],s=0,o=i.length;o>s;s++)if(t=i[s]+"ransform",t in h)return i[s].substr(0,i[s].length-1);return!1}(),u=s("transform"),d={transform:u!==!1,perspective:s("perspective")in h,touch:"ontouchstart"in t,pointer:navigator.msPointerEnabled,transition:s("transition")in h},m={transform:u,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),translateZ:d.perspective?" translateZ(0)":""};return{getTime:a,rAF:l,has:d,style:m,addEvent:o,removeEvent:e,getComputedPosition:n,momentum:r}}(window,document),IScroll.prototype._animate=function(t,i,s){function o(){var l,c,u,d=IScroll.utils.getTime();return d>=a?(e.isAnimating=!1,e._translate(t,i),e.resetPosition(435),void 0):(d=(d-h)/s-1,u=Math.sqrt(1-d*d),l=(t-n)*u+n,c=(i-r)*u+r,e._translate(l,c),e.isAnimating&&rAF(o),void 0)}var e=this,n=this.x,r=this.y,h=IScroll.utils.getTime(),a=h+s;this.isAnimating=!0,o()},IScroll.prototype._end=function(t){if(this.enabled&&this.initiated){var i,s,o,e=(t.changedTouches?t.changedTouches[0]:t,IScroll.utils.getTime()-this.startTime),n=Math.round(this.x),r=Math.round(this.y);this.initiated=!1,this.resetPosition(300)||this.moved&&(this.options.momentum&&300>e&&(i=this.hasHorizontalScroll?IScroll.utils.momentum(this.x,this.startX,e,this.maxScrollX,this.options.overshoot?this.wrapperWidth:0):{destination:n,duration:0},s=this.hasVerticalScroll?IScroll.utils.momentum(this.y,this.startY,e,this.maxScrollY,this.options.overshoot?this.wrapperHeight:0):{destination:r,duration:0},n=i.destination,r=s.destination,o=Math.max(i.duration,s.duration)),(n!=this.x||r!=this.y)&&this.scrollTo(n,r,o))}},IScroll.prototype._move=function(t){if(this.enabled&&this.initiated){var i,s,o,e,n=t.touches?t.touches[0]:t,r=this.hasHorizontalScroll?n.pageX-this.pointX:0,h=this.hasVerticalScroll?n.pageY-this.pointY:0,a=IScroll.utils.getTime();this.pointX=n.pageX,this.pointY=n.pageY,this.distX+=r,this.distY+=h,o=Math.abs(this.distX),e=Math.abs(this.distY),10>o&&10>e||(!this.directionLocked&&this.options.lockDirection&&(this.directionLocked=o>e+5?"h":e>o+5?"v":"n"),"h"==this.directionLocked?h=0:"v"==this.directionLocked&&(r=0),i=this.x+r,s=this.y+h,(i>0||this.maxScrollX>i)&&(i=this.options.overshoot?this.x+r/3:i>0?0:this.maxScrollX),(s>0||this.maxScrollY>s)&&(s=this.options.overshoot?this.y+h/3:s>0?0:this.maxScrollY),this.moved=!0,a-this.startTime>300&&(this.startTime=a,this.startX=this.x,this.startY=this.y),this._translate(i,s))}},IScroll.prototype._start=function(t){if(this.enabled&&(!this.initiated||t.type==this.initiated)){var i,s=t.touches?t.touches[0]:t;this.initiated=t.type,this.moved=!1,this.distX=0,this.distY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.options.momentum&&(i=IScroll.utils.getComputedPosition(this.scroller,this.options.useTransform),(i.x!=this.x||i.y!=this.y)&&this._translate(i.x,i.y)),this.startX=this.x,this.startY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this.startTime=IScroll.utils.getTime()}},IScroll.prototype._transitionEnd=function(t){t.target==this.scroller&&(this._transitionTime(0),this.resetPosition(435))},IScroll.prototype._transitionTime=function(t){t=t||0,this.scrollerStyle[IScroll.utils.style.transitionDuration]=t+"ms"},IScroll.prototype._translate=function(t,i){this.options.useTransform?this.scrollerStyle[IScroll.utils.style.transform]="translate("+t+"px,"+i+"px)"+IScroll.utils.style.translateZ:(t=Math.round(t),i=Math.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.x=t,this.y=i},IScroll.prototype.destory=function(){utils=IScroll.utils,utils.removeEvent(window,"orientationchange",this),utils.removeEvent(window,"resize",this),utils.has.touch&&(utils.removeEvent(this.wrapper,"touchstart",this),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,"touchcancel",this),utils.removeEvent(window,"touchend",this)),utils.has.pointer&&(utils.removeEvent(this.wrapper,"MSPointerDown",this),utils.removeEvent(window,"MSPointerMove",this),utils.removeEvent(window,"MSPointerCancel",this),utils.removeEvent(window,"MSPointerUp",this)),utils.removeEvent(this.wrapper,"mousedown",this),utils.removeEvent(window,"mousemove",this),utils.removeEvent(window,"mousecancel",this),utils.removeEvent(window,"mouseup",this),utils.removeEvent(this.scroller,"transitionend",this),utils.removeEvent(this.scroller,"webkitTransitionEnd",this),utils.removeEvent(this.scroller,"oTransitionEnd",this),utils.removeEvent(this.scroller,"MSTransitionEnd",this)},IScroll.prototype.handleEvent=function(t){switch(t.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"MSPointerUp":case"mouseup":this._end(t);break;case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t)}},IScroll.prototype.refresh=function(){this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=Math.round(this.scroller.offsetWidth),this.scrollerHeight=Math.round(this.scroller.offsetHeight),this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&0>this.maxScrollX,this.hasVerticalScroll=this.options.scrollY&&0>this.maxScrollY},IScroll.prototype.resetPosition=function(t){if(0>=this.x&&this.x>=this.maxScrollX&&0>=this.y&&this.y>=this.maxScrollY)return!1;var i=this.x,s=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||this.y>0?s=0:this.y<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(i,s,t),!0},IScroll.prototype.scrollBy=function(t,i,s){t=this.x+t,i=this.y+i,s=s||0,this.scrollTo(t,i,s)},IScroll.prototype.scrollTo=function(t,i,s){!s||this.options.useTransition?(this._transitionTime(s),this._translate(t,i)):this._animate(t,i,s)};
//@ sourceMappingURL=dist/iscroll.min.map